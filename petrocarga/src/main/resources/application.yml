spring:
    application:
        name: petrocarga
    
    jackson:
        time-zone: America/Sao_Paulo
        date-format: dd-MM-yyyy
    
    jpa:
        hibernate:
            ddl-auto: validate
        show-sql: true
        open-in-view: true
    
    flyway:
        enabled: true
        locations: classpath:db/migration
        validate-on-migrate: false
        baseline-on-migrate: true
        ignore-migration-patterns: "*:missing"
        connect-retries: 3
        clean-disabled: true
        
    # SMTP config: prefer environment variables in Railway.
    # Required environment variables (set these in Railway project variables):
    # - SMTP_HOST (e.g. smtp.gmail.com)
    # - SMTP_PORT (e.g. 465 for SSL)
    # - SMTP_USERNAME
    # - SMTP_PASSWORD
    # - SMTP_FROM (optional, defaults to SMTP_USERNAME)
    # The application below prioritizes SSL (port 465). To use STARTTLS, set
    # SMTP_STARTTLS=true and SMTP_SMTP_SSL=false in the env (not recommended for Gmail).
    mail:
        host: ${SMTP_HOST:smtp.gmail.com}
        port: ${SMTP_PORT:465}
        username: ${SMTP_USERNAME:}
        password: ${SMTP_PASSWORD:}
        # The 'from' will default to username when not provided
        from: ${SMTP_FROM:${SMTP_USERNAME:no-reply@petrocarga.test}}
        properties:
            mail:
                smtp:
                    auth: true
                    ssl:
                        enable: true
                    starttls:
                        enable: ${SMTP_STARTTLS:false}
                    connectiontimeout: ${SMTP_CONNECTION_TIMEOUT:5000}
                    timeout: ${SMTP_TIMEOUT:5000}
                    writetimeout: ${SMTP_WRITETIMEOUT:5000}
    quartz:
        job-store-type: jdbc
        jdbc:
            initialize-schema: never
server:
    port: ${PORT:8080}
    servlet:
        context-path: /petrocarga
    forward-headers-strategy: framework

logging:
    level:
        root: info
        org:
            springframework:
                web: info
            hibernate:
                SQL: info

jwt:
  secret: ${JWT_SECRET:72f9a128dd6f4c4a9c82e36df3ba62a9d12f1c3b9475a1f0e9d54d7e1b2a3c4d}
  expiration: 86400000

app:
    reservas:
        noshow:
            enabled: false
            grace-minutes: 10
            scan-ms: 1800000
    firebase-push-notification:
        enabled: true
        credentials: "${FIREBASE_CREDENTIALS}"
    cookie-settings:
        secure: true
        same-site: None
    frontend:
        base-url: ${FRONTEND_URL:http://localhost:3000}