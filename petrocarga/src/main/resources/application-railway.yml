spring:
    config:
        activate:
            on-profile: railway

    datasource:
        url: ${DATABASE_URL}
        username: ${DATABASE_USER}
        password: ${DATABASE_PASSWORD}
        driver-class-name: org.postgresql.Driver
        hikari:
            maximum-pool-size: 5

    flyway:
        url: ${DATABASE_URL}
        user: ${DATABASE_USER}
        password: ${DATABASE_PASSWORD}

    # Configuração SMTP para envio de emails em produção
    # Usa as variáveis SMTP_* configuradas no Railway
    # IMPORTANTE: Porta 465 (SSL) é preferível em cloud providers pois 587 é frequentemente bloqueada
    mail:
        host: ${SMTP_HOST:smtp.gmail.com}
        port: ${SMTP_PORT:465}
        username: ${SMTP_USERNAME:}
        password: ${SMTP_PASSWORD:}
        properties:
            mail:
                smtp:
                    auth: true
                    starttls:
                        enable: ${SMTP_STARTTLS:false}
                    ssl:
                        enable: ${SMTP_SSL:true}
                    connectiontimeout: ${SMTP_TIMEOUT:10000}
                    timeout: ${SMTP_TIMEOUT:10000}
                    writetimeout: ${SMTP_TIMEOUT:10000}
        from: ${SMTP_FROM:${SMTP_USERNAME:no-reply@petrocarga.test}}

app:
    frontend:
        base-url: ${FRONTEND_URL:https://petrocarga.vercel.app}